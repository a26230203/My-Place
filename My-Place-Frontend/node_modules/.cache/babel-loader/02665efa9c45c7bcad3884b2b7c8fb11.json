{"ast":null,"code":"var _jsxFileName = \"/home/lin/phase5/My-Place-Frontend/my-place/src/Component/Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport Canvas from \"./Convas\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Login(props) {\n  _s();\n\n  let [username, setUsername] = useState(\"\");\n  let [password, setPassword] = useState(\"\");\n\n  const handleSignupClick = () => {\n    props.history.push(\"/signup\");\n  };\n\n  const handleLogin = () => {\n    fetch('http://localhost:3000/login', {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        username: username,\n        password: password\n      })\n    }).then(res => res.json()).then(user => {\n      localStorage.token = user.token;\n\n      if (localStorage.token != \"undefined\") {\n        props.history.push('/homepage');\n      } else {\n        alert(\"Username or password is not correct\");\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"body\", {\n    className: \"login-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"switch\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Sign up\\uFF1F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 37\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"checkbox\",\n      id: \"change\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      for: \"change\",\n      onClick: () => handleSignupClick(),\n      children: \"Sign up\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"login\",\n      children: /*#__PURE__*/_jsxDEV(\"form\", {\n        className: \"login\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: \"Welcome Back\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: username,\n          placeholder: \"Please enter your username\",\n          onChange: e => setUsername(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          value: password,\n          placeholder: \"Please enter your password\",\n          onChange: e => setPassword(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"submit\",\n          className: \"btn\",\n          value: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Canvas, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 38,\n    columnNumber: 9\n  }, this);\n}\n\n_s(Login, \"Lrw7JeD9zj6OUWhT/IH4OIvPKEk=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/home/lin/phase5/My-Place-Frontend/my-place/src/Component/Login.js"],"names":["React","useState","useEffect","Canvas","Login","props","username","setUsername","password","setPassword","handleSignupClick","history","push","handleLogin","fetch","method","headers","body","JSON","stringify","then","res","json","user","localStorage","token","alert","e","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Canvas from \"./Convas\";\n\nfunction Login (props) {\n\n    let [username, setUsername] = useState(\"\")\n    let [password, setPassword] = useState(\"\")\n\n    const handleSignupClick = () => {\n        props.history.push(\"/signup\")\n    }\n\n    const handleLogin = () => {\n        fetch('http://localhost:3000/login', {\n            method: \"POST\",\n            headers: {\n              \"Content-Type\": \"application/json\",\n            },\n            body: JSON.stringify({\n                username: username,\n                password: password\n            })\n        })\n        .then(res => res.json())\n        .then(user => {\n            localStorage.token = user.token\n\n            if(localStorage.token != \"undefined\"){\n                \n                props.history.push('/homepage')\n            }else {\n                alert(\"Username or password is not correct\")\n            }\n        })\n    }\n\n    return (\n        <body className=\"login-page\">\n            <div className=\"switch\"><h2>Sign upï¼Ÿ</h2></div>\n            <input type=\"checkbox\" id=\"change\" />\n            <label for=\"change\" onClick={() => handleSignupClick()}>Sign up</label>\n                <div className=\"login\">\n                    <form className=\"login\">\n                        <h1>Welcome Back</h1>\n                        <input type=\"text\" value={username} placeholder=\"Please enter your username\" onChange={(e) => setUsername(e.target.value)} /> \n                        <input type=\"password\" value={password} placeholder=\"Please enter your password\" onChange={(e) => setPassword(e.target.value)}/>\n                        <input type=\"submit\" className=\"btn\" value=\"Login\"/>\n                    </form>\n                </div>\n                <Canvas />\n        </body>\n    ) \n\n}\n\nexport default Login;"]},"metadata":{},"sourceType":"module"}