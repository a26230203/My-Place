{"ast":null,"code":"/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.2 (2021-06-23)\n */\n(function () {\n  'use strict';\n\n  var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n  var applyListFormat = function (editor, listName, styleValue) {\n    var cmd = listName === 'UL' ? 'InsertUnorderedList' : 'InsertOrderedList';\n    editor.execCommand(cmd, false, styleValue === false ? null : {\n      'list-style-type': styleValue\n    });\n  };\n\n  var register = function (editor) {\n    editor.addCommand('ApplyUnorderedListStyle', function (ui, value) {\n      applyListFormat(editor, 'UL', value['list-style-type']);\n    });\n    editor.addCommand('ApplyOrderedListStyle', function (ui, value) {\n      applyListFormat(editor, 'OL', value['list-style-type']);\n    });\n  };\n\n  var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n  var getNumberStyles = function (editor) {\n    var styles = editor.getParam('advlist_number_styles', 'default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman');\n    return styles ? styles.split(/[ ,]/) : [];\n  };\n\n  var getBulletStyles = function (editor) {\n    var styles = editor.getParam('advlist_bullet_styles', 'default,circle,square');\n    return styles ? styles.split(/[ ,]/) : [];\n  };\n\n  var noop = function () {};\n\n  var constant = function (value) {\n    return function () {\n      return value;\n    };\n  };\n\n  var never = constant(false);\n  var always = constant(true);\n\n  var none = function () {\n    return NONE;\n  };\n\n  var NONE = function () {\n    var eq = function (o) {\n      return o.isNone();\n    };\n\n    var call = function (thunk) {\n      return thunk();\n    };\n\n    var id = function (n) {\n      return n;\n    };\n\n    var me = {\n      fold: function (n, _s) {\n        return n();\n      },\n      is: never,\n      isSome: never,\n      isNone: always,\n      getOr: id,\n      getOrThunk: call,\n      getOrDie: function (msg) {\n        throw new Error(msg || 'error: getOrDie called on none.');\n      },\n      getOrNull: constant(null),\n      getOrUndefined: constant(undefined),\n      or: id,\n      orThunk: call,\n      map: none,\n      each: noop,\n      bind: none,\n      exists: never,\n      forall: always,\n      filter: none,\n      equals: eq,\n      equals_: eq,\n      toArray: function () {\n        return [];\n      },\n      toString: constant('none()')\n    };\n    return me;\n  }();\n\n  var some = function (a) {\n    var constant_a = constant(a);\n\n    var self = function () {\n      return me;\n    };\n\n    var bind = function (f) {\n      return f(a);\n    };\n\n    var me = {\n      fold: function (n, s) {\n        return s(a);\n      },\n      is: function (v) {\n        return a === v;\n      },\n      isSome: always,\n      isNone: never,\n      getOr: constant_a,\n      getOrThunk: constant_a,\n      getOrDie: constant_a,\n      getOrNull: constant_a,\n      getOrUndefined: constant_a,\n      or: self,\n      orThunk: self,\n      map: function (f) {\n        return some(f(a));\n      },\n      each: function (f) {\n        f(a);\n      },\n      bind: bind,\n      exists: bind,\n      forall: bind,\n      filter: function (f) {\n        return f(a) ? me : NONE;\n      },\n      toArray: function () {\n        return [a];\n      },\n      toString: function () {\n        return 'some(' + a + ')';\n      },\n      equals: function (o) {\n        return o.is(a);\n      },\n      equals_: function (o, elementEq) {\n        return o.fold(never, function (b) {\n          return elementEq(a, b);\n        });\n      }\n    };\n    return me;\n  };\n\n  var from = function (value) {\n    return value === null || value === undefined ? NONE : some(value);\n  };\n\n  var Optional = {\n    some: some,\n    none: none,\n    from: from\n  };\n\n  var isChildOfBody = function (editor, elm) {\n    return editor.$.contains(editor.getBody(), elm);\n  };\n\n  var isTableCellNode = function (node) {\n    return node && /^(TH|TD)$/.test(node.nodeName);\n  };\n\n  var isListNode = function (editor) {\n    return function (node) {\n      return node && /^(OL|UL|DL)$/.test(node.nodeName) && isChildOfBody(editor, node);\n    };\n  };\n\n  var getSelectedStyleType = function (editor) {\n    var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n    var style = editor.dom.getStyle(listElm, 'listStyleType');\n    return Optional.from(style);\n  };\n\n  var findIndex = function (list, predicate) {\n    for (var index = 0; index < list.length; index++) {\n      var element = list[index];\n\n      if (predicate(element)) {\n        return index;\n      }\n    }\n\n    return -1;\n  };\n\n  var styleValueToText = function (styleValue) {\n    return styleValue.replace(/\\-/g, ' ').replace(/\\b\\w/g, function (chr) {\n      return chr.toUpperCase();\n    });\n  };\n\n  var isWithinList = function (editor, e, nodeName) {\n    var tableCellIndex = findIndex(e.parents, isTableCellNode);\n    var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;\n    var lists = global$1.grep(parents, isListNode(editor));\n    return lists.length > 0 && lists[0].nodeName === nodeName;\n  };\n\n  var addSplitButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n    editor.ui.registry.addSplitButton(id, {\n      tooltip: tooltip,\n      icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n      presets: 'listpreview',\n      columns: 3,\n      fetch: function (callback) {\n        var items = global$1.map(styles, function (styleValue) {\n          var iconStyle = nodeName === 'OL' ? 'num' : 'bull';\n          var iconName = styleValue === 'disc' || styleValue === 'decimal' ? 'default' : styleValue;\n          var itemValue = styleValue === 'default' ? '' : styleValue;\n          var displayText = styleValueToText(styleValue);\n          return {\n            type: 'choiceitem',\n            value: itemValue,\n            icon: 'list-' + iconStyle + '-' + iconName,\n            text: displayText\n          };\n        });\n        callback(items);\n      },\n      onAction: function () {\n        return editor.execCommand(cmd);\n      },\n      onItemAction: function (_splitButtonApi, value) {\n        applyListFormat(editor, nodeName, value);\n      },\n      select: function (value) {\n        var listStyleType = getSelectedStyleType(editor);\n        return listStyleType.map(function (listStyle) {\n          return value === listStyle;\n        }).getOr(false);\n      },\n      onSetup: function (api) {\n        var nodeChangeHandler = function (e) {\n          api.setActive(isWithinList(editor, e, nodeName));\n        };\n\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      }\n    });\n  };\n\n  var addButton = function (editor, id, tooltip, cmd, nodeName, _styles) {\n    editor.ui.registry.addToggleButton(id, {\n      active: false,\n      tooltip: tooltip,\n      icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n      onSetup: function (api) {\n        var nodeChangeHandler = function (e) {\n          api.setActive(isWithinList(editor, e, nodeName));\n        };\n\n        editor.on('NodeChange', nodeChangeHandler);\n        return function () {\n          return editor.off('NodeChange', nodeChangeHandler);\n        };\n      },\n      onAction: function () {\n        return editor.execCommand(cmd);\n      }\n    });\n  };\n\n  var addControl = function (editor, id, tooltip, cmd, nodeName, styles) {\n    if (styles.length > 1) {\n      addSplitButton(editor, id, tooltip, cmd, nodeName, styles);\n    } else {\n      addButton(editor, id, tooltip, cmd, nodeName);\n    }\n  };\n\n  var register$1 = function (editor) {\n    addControl(editor, 'numlist', 'Numbered list', 'InsertOrderedList', 'OL', getNumberStyles(editor));\n    addControl(editor, 'bullist', 'Bullet list', 'InsertUnorderedList', 'UL', getBulletStyles(editor));\n  };\n\n  function Plugin() {\n    global.add('advlist', function (editor) {\n      if (editor.hasPlugin('lists')) {\n        register$1(editor);\n        register(editor);\n      } else {\n        console.error('Please use the Lists plugin together with the Advanced List plugin.');\n      }\n    });\n  }\n\n  Plugin();\n})();","map":{"version":3,"sources":["/home/lin/phase5/My-Place-Frontend/my-place/node_modules/tinymce/plugins/advlist/plugin.js"],"names":["global","tinymce","util","Tools","resolve","applyListFormat","editor","listName","styleValue","cmd","execCommand","register","addCommand","ui","value","global$1","getNumberStyles","styles","getParam","split","getBulletStyles","noop","constant","never","always","none","NONE","eq","o","isNone","call","thunk","id","n","me","fold","_s","is","isSome","getOr","getOrThunk","getOrDie","msg","Error","getOrNull","getOrUndefined","undefined","or","orThunk","map","each","bind","exists","forall","filter","equals","equals_","toArray","toString","some","a","constant_a","self","f","s","v","elementEq","b","from","Optional","isChildOfBody","elm","$","contains","getBody","isTableCellNode","node","test","nodeName","isListNode","getSelectedStyleType","listElm","dom","getParent","selection","getNode","style","getStyle","findIndex","list","predicate","index","length","element","styleValueToText","replace","chr","toUpperCase","isWithinList","e","tableCellIndex","parents","slice","lists","grep","addSplitButton","tooltip","registry","icon","presets","columns","fetch","callback","items","iconStyle","iconName","itemValue","displayText","type","text","onAction","onItemAction","_splitButtonApi","select","listStyleType","listStyle","onSetup","api","nodeChangeHandler","setActive","on","off","addButton","_styles","addToggleButton","active","addControl","register$1","Plugin","add","hasPlugin","console","error"],"mappings":"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","sourcesContent":["/**\n * Copyright (c) Tiny Technologies, Inc. All rights reserved.\n * Licensed under the LGPL or a commercial license.\n * For LGPL see License.txt in the project root for license information.\n * For commercial licenses see https://www.tiny.cloud/\n *\n * Version: 5.8.2 (2021-06-23)\n */\n(function () {\n    'use strict';\n\n    var global = tinymce.util.Tools.resolve('tinymce.PluginManager');\n\n    var applyListFormat = function (editor, listName, styleValue) {\n      var cmd = listName === 'UL' ? 'InsertUnorderedList' : 'InsertOrderedList';\n      editor.execCommand(cmd, false, styleValue === false ? null : { 'list-style-type': styleValue });\n    };\n\n    var register = function (editor) {\n      editor.addCommand('ApplyUnorderedListStyle', function (ui, value) {\n        applyListFormat(editor, 'UL', value['list-style-type']);\n      });\n      editor.addCommand('ApplyOrderedListStyle', function (ui, value) {\n        applyListFormat(editor, 'OL', value['list-style-type']);\n      });\n    };\n\n    var global$1 = tinymce.util.Tools.resolve('tinymce.util.Tools');\n\n    var getNumberStyles = function (editor) {\n      var styles = editor.getParam('advlist_number_styles', 'default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n    var getBulletStyles = function (editor) {\n      var styles = editor.getParam('advlist_bullet_styles', 'default,circle,square');\n      return styles ? styles.split(/[ ,]/) : [];\n    };\n\n    var noop = function () {\n    };\n    var constant = function (value) {\n      return function () {\n        return value;\n      };\n    };\n    var never = constant(false);\n    var always = constant(true);\n\n    var none = function () {\n      return NONE;\n    };\n    var NONE = function () {\n      var eq = function (o) {\n        return o.isNone();\n      };\n      var call = function (thunk) {\n        return thunk();\n      };\n      var id = function (n) {\n        return n;\n      };\n      var me = {\n        fold: function (n, _s) {\n          return n();\n        },\n        is: never,\n        isSome: never,\n        isNone: always,\n        getOr: id,\n        getOrThunk: call,\n        getOrDie: function (msg) {\n          throw new Error(msg || 'error: getOrDie called on none.');\n        },\n        getOrNull: constant(null),\n        getOrUndefined: constant(undefined),\n        or: id,\n        orThunk: call,\n        map: none,\n        each: noop,\n        bind: none,\n        exists: never,\n        forall: always,\n        filter: none,\n        equals: eq,\n        equals_: eq,\n        toArray: function () {\n          return [];\n        },\n        toString: constant('none()')\n      };\n      return me;\n    }();\n    var some = function (a) {\n      var constant_a = constant(a);\n      var self = function () {\n        return me;\n      };\n      var bind = function (f) {\n        return f(a);\n      };\n      var me = {\n        fold: function (n, s) {\n          return s(a);\n        },\n        is: function (v) {\n          return a === v;\n        },\n        isSome: always,\n        isNone: never,\n        getOr: constant_a,\n        getOrThunk: constant_a,\n        getOrDie: constant_a,\n        getOrNull: constant_a,\n        getOrUndefined: constant_a,\n        or: self,\n        orThunk: self,\n        map: function (f) {\n          return some(f(a));\n        },\n        each: function (f) {\n          f(a);\n        },\n        bind: bind,\n        exists: bind,\n        forall: bind,\n        filter: function (f) {\n          return f(a) ? me : NONE;\n        },\n        toArray: function () {\n          return [a];\n        },\n        toString: function () {\n          return 'some(' + a + ')';\n        },\n        equals: function (o) {\n          return o.is(a);\n        },\n        equals_: function (o, elementEq) {\n          return o.fold(never, function (b) {\n            return elementEq(a, b);\n          });\n        }\n      };\n      return me;\n    };\n    var from = function (value) {\n      return value === null || value === undefined ? NONE : some(value);\n    };\n    var Optional = {\n      some: some,\n      none: none,\n      from: from\n    };\n\n    var isChildOfBody = function (editor, elm) {\n      return editor.$.contains(editor.getBody(), elm);\n    };\n    var isTableCellNode = function (node) {\n      return node && /^(TH|TD)$/.test(node.nodeName);\n    };\n    var isListNode = function (editor) {\n      return function (node) {\n        return node && /^(OL|UL|DL)$/.test(node.nodeName) && isChildOfBody(editor, node);\n      };\n    };\n    var getSelectedStyleType = function (editor) {\n      var listElm = editor.dom.getParent(editor.selection.getNode(), 'ol,ul');\n      var style = editor.dom.getStyle(listElm, 'listStyleType');\n      return Optional.from(style);\n    };\n\n    var findIndex = function (list, predicate) {\n      for (var index = 0; index < list.length; index++) {\n        var element = list[index];\n        if (predicate(element)) {\n          return index;\n        }\n      }\n      return -1;\n    };\n    var styleValueToText = function (styleValue) {\n      return styleValue.replace(/\\-/g, ' ').replace(/\\b\\w/g, function (chr) {\n        return chr.toUpperCase();\n      });\n    };\n    var isWithinList = function (editor, e, nodeName) {\n      var tableCellIndex = findIndex(e.parents, isTableCellNode);\n      var parents = tableCellIndex !== -1 ? e.parents.slice(0, tableCellIndex) : e.parents;\n      var lists = global$1.grep(parents, isListNode(editor));\n      return lists.length > 0 && lists[0].nodeName === nodeName;\n    };\n    var addSplitButton = function (editor, id, tooltip, cmd, nodeName, styles) {\n      editor.ui.registry.addSplitButton(id, {\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        presets: 'listpreview',\n        columns: 3,\n        fetch: function (callback) {\n          var items = global$1.map(styles, function (styleValue) {\n            var iconStyle = nodeName === 'OL' ? 'num' : 'bull';\n            var iconName = styleValue === 'disc' || styleValue === 'decimal' ? 'default' : styleValue;\n            var itemValue = styleValue === 'default' ? '' : styleValue;\n            var displayText = styleValueToText(styleValue);\n            return {\n              type: 'choiceitem',\n              value: itemValue,\n              icon: 'list-' + iconStyle + '-' + iconName,\n              text: displayText\n            };\n          });\n          callback(items);\n        },\n        onAction: function () {\n          return editor.execCommand(cmd);\n        },\n        onItemAction: function (_splitButtonApi, value) {\n          applyListFormat(editor, nodeName, value);\n        },\n        select: function (value) {\n          var listStyleType = getSelectedStyleType(editor);\n          return listStyleType.map(function (listStyle) {\n            return value === listStyle;\n          }).getOr(false);\n        },\n        onSetup: function (api) {\n          var nodeChangeHandler = function (e) {\n            api.setActive(isWithinList(editor, e, nodeName));\n          };\n          editor.on('NodeChange', nodeChangeHandler);\n          return function () {\n            return editor.off('NodeChange', nodeChangeHandler);\n          };\n        }\n      });\n    };\n    var addButton = function (editor, id, tooltip, cmd, nodeName, _styles) {\n      editor.ui.registry.addToggleButton(id, {\n        active: false,\n        tooltip: tooltip,\n        icon: nodeName === 'OL' ? 'ordered-list' : 'unordered-list',\n        onSetup: function (api) {\n          var nodeChangeHandler = function (e) {\n            api.setActive(isWithinList(editor, e, nodeName));\n          };\n          editor.on('NodeChange', nodeChangeHandler);\n          return function () {\n            return editor.off('NodeChange', nodeChangeHandler);\n          };\n        },\n        onAction: function () {\n          return editor.execCommand(cmd);\n        }\n      });\n    };\n    var addControl = function (editor, id, tooltip, cmd, nodeName, styles) {\n      if (styles.length > 1) {\n        addSplitButton(editor, id, tooltip, cmd, nodeName, styles);\n      } else {\n        addButton(editor, id, tooltip, cmd, nodeName);\n      }\n    };\n    var register$1 = function (editor) {\n      addControl(editor, 'numlist', 'Numbered list', 'InsertOrderedList', 'OL', getNumberStyles(editor));\n      addControl(editor, 'bullist', 'Bullet list', 'InsertUnorderedList', 'UL', getBulletStyles(editor));\n    };\n\n    function Plugin () {\n      global.add('advlist', function (editor) {\n        if (editor.hasPlugin('lists')) {\n          register$1(editor);\n          register(editor);\n        } else {\n          console.error('Please use the Lists plugin together with the Advanced List plugin.');\n        }\n      });\n    }\n\n    Plugin();\n\n}());\n"]},"metadata":{},"sourceType":"script"}