{"ast":null,"code":"// import React, { useState,Component } from 'react'\n// function WebStyle(props) {\n//     const [ imgState, setimgState ] = useState(true);\n//     const [ imgData,setimgData ] = useState('');\n//     const _upImg = () => {\n//         let upimgs = document.getElementById(\"upimg\")\n//         upimgs.click();\n//     }\n//     const upChange = (event) => {\n//         let imgfile = event.currentTarget.files[0];///获得input的第一个图片\n//         console.log('我是图片源文件',imgfile)\n//         if (imgfile.size > 1024000) {\n//             alert('大于了1m，请重新上传', 3)\n//             let upimgs = document.getElementById(\"upimg\")\n//             upimgs.value=''\n//         }\n//         else {\n//             //使用readAsDataURL来进行回显图片\n//             let reader = new FileReader();//filereader.readasdataurl读取图像文件转换为流\n//             reader.readAsDataURL(imgfile);\n//             reader.onload = function (event) {//读取数据时会触发一个load事件\n//                 let imgs = this.result\n//                 console.log('我是回显的Base64图片文件',imgs)\n//                 setimgState(false)\n//                 setimgData(imgs)\n//             };\n//         }\n//     }\n//     return (\n//         <div className='page-body'>\n//             <button onClick={_upImg}>\n//                 {\n//                     imgState?'上传':'重新上传'\n//                 }\n//             </button>\n//             <div>\n//                 <img src={imgData} style={{ width: '200px', height: '200px' }} />\n//             </div>\n//             <input id='upimg' type='file' style={{ display: 'none' }} accept='image/png' onChange={upChange} />\n//         </div>\n//     )\n// }\n// class WebStylec extends Component{\n//     constructor(props){\n//         super(props)\n//         this.state = {\n//             imgState:true,\n//             imgData:''\n//         }\n//     }\n//     _upImg = () => {\n//         let upimgs = document.getElementById(\"upimg\")\n//         upimgs.click();\n//     }\n//     upChange = (event) => {\n//         let _this = this//烦人的this\n//         let imgfile = event.currentTarget.files[0];///获得input的第一个图片\n//         console.log('我是图片源文件',imgfile)\n//         if (imgfile.size > 1024000) {\n//             alert('大于了1m，请重新上传', 3)\n//             let upimgs = document.getElementById(\"upimg\")\n//             upimgs.value=''\n//         }\n//         else {\n//             //使用readAsDataURL来进行回显图片\n//             let reader = new FileReader();//filereader.readasdataurl读取图像文件转换为流\n//             reader.readAsDataURL(imgfile);\n//             reader.onload = function (event) {//读取数据时会触发一个load事件\n//                 let imgs = this.result\n//                 console.log('我是回显的Base64图片文件',imgs)\n//                 _this.state.imgState = false\n//                 _this.state.imgData = imgs\n//                 _this.setState(_this.state)\n//             };\n//         }\n//     }\n//     render(){\n//         return(\n//             <div className='page-body'>\n//             <button onClick={this._upImg}>\n//                 {\n//                     this.state.imgState?'上传':'重新上传'\n//                 }\n//             </button>\n//             <div>\n//                 <img src={this.state.imgData} style={{ width: '200px', height: '200px' }} />\n//             </div>\n//             <input id='upimg' type='file' style={{ display: 'none' }} accept='image/png' onChange={this.upChange} />\n//         </div>\n//         )\n//     }\n// }\n// // export default WebStylec\n// import React from 'react';\n// import { Form, Input,Upload,Icon,Modal} from 'antd';\n// import { connect } from 'dva';\n// const FormItem = Form.Item;\n// const { TextArea } = Input;\n// function getBase64(file) {\n//   return new Promise((resolve, reject) => {\n//     const reader = new FileReader();\n//     reader.readAsDataURL(file);\n//     reader.onload = () => resolve(reader.result);\n//     reader.onerror = error => reject(error);\n//   });\n// }\n// class AddMa extends React.Component {\n//   state = {\n//     value: '',\n//     previewVisible: false,\n//     previewImage: '',\n//     fileList:[],\n//   };\n//   onChange = ({ target: { value } }) => {\n//     this.setState({ value });\n//   };\n// //场地图片\n//   handleCancel = () => this.setState({ previewVisible: false });\n//   handlePreview = async file => {\n//     if (!file.url && !file.preview) {\n//       file.preview = await getBase64(file.originFileObj);\n//     }\n//     this.setState({\n//       previewImage: file.url || file.preview,\n//       previewVisible: true,\n//     });\n//     console.log(file);\n//   };\n//   handleChange = ({ fileList }) => this.setState({ fileList:fileList });\n//   beforeUpload=(file)=>{\n//       this.setState(({\n//         fileList: [this.state.fileList, file],\n//       }));\n//     return false;\n//   }\n//   render() {\n//     const { previewVisible, previewImage, fileList,value} = this.state;\n//     const uploadButton = (\n//       <div>\n//         <Icon type=\"plus\" />\n//         <div className=\"ant-upload-text\">Upload</div>\n//       </div>\n//     );\n//     const { getFieldDecorator } = this.props.form;\n//     const formItemLayout = {\n//       labelCol: { span: 8 },\n//       wrapperCol: { span: 10 },\n//     };\n//     const props={fileList};\n//     return (\n//       <div>\n//         <Form>\n//           <FormItem{...formItemLayout} label=\"现场图片\">\n//             {getFieldDecorator('fileList',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <div >\n//                 <Upload name=\"file\" {...props}\n//                         listType=\"picture-card\"\n//                         onPreview={this.handlePreview}\n//                         onChange={this.handleChange}\n//                         fileList={fileList}\n//                         accept=\".jpg,.png,.gif,.jpeg\"\n//                         beforeUpload={this.beforeUpload}\n//                 >\n//                   {this.props.tAccessory >= 6 ? null : uploadButton}\n//                 </Upload>\n//                 <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n//                   <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n//                 </Modal>\n//               </div>\n//             )}</FormItem>\n//     \t\t//这里是多个上传获取到的PhotoList    \n//           <FormItem{...formItemLayout} >\n//             {getFieldDecorator('file',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <input type=\"hidden\" name=\"img\" multiple=\"multiple\"  />\n//             )}</FormItem>\n//         </Form>\n//       </div>\n//     );\n//   }\n// }\n// function mapStateToProps(state) {\n//   const {csIntro,arPicture,tCsInfo,modelResult,tAccessory} = state.cusy;\n//   return {csIntro,arPicture,tCsInfo,modelResult,tAccessory};\n// }\n// export default connect(mapStateToProps)(Form.create()(AddMa));","map":{"version":3,"sources":["/home/lin/phase5/My-Place-Frontend/my-place/src/Component/test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA","sourcesContent":["// import React, { useState,Component } from 'react'\n// function WebStyle(props) {\n//     const [ imgState, setimgState ] = useState(true);\n//     const [ imgData,setimgData ] = useState('');\n//     const _upImg = () => {\n//         let upimgs = document.getElementById(\"upimg\")\n//         upimgs.click();\n//     }\n//     const upChange = (event) => {\n//         let imgfile = event.currentTarget.files[0];///获得input的第一个图片\n//         console.log('我是图片源文件',imgfile)\n//         if (imgfile.size > 1024000) {\n//             alert('大于了1m，请重新上传', 3)\n//             let upimgs = document.getElementById(\"upimg\")\n//             upimgs.value=''\n//         }\n//         else {\n//             //使用readAsDataURL来进行回显图片\n//             let reader = new FileReader();//filereader.readasdataurl读取图像文件转换为流\n//             reader.readAsDataURL(imgfile);\n\n//             reader.onload = function (event) {//读取数据时会触发一个load事件\n//                 let imgs = this.result\n//                 console.log('我是回显的Base64图片文件',imgs)\n//                 setimgState(false)\n//                 setimgData(imgs)\n//             };\n//         }\n//     }\n//     return (\n//         <div className='page-body'>\n//             <button onClick={_upImg}>\n//                 {\n//                     imgState?'上传':'重新上传'\n//                 }\n//             </button>\n//             <div>\n//                 <img src={imgData} style={{ width: '200px', height: '200px' }} />\n//             </div>\n//             <input id='upimg' type='file' style={{ display: 'none' }} accept='image/png' onChange={upChange} />\n//         </div>\n//     )\n// }\n\n// class WebStylec extends Component{\n//     constructor(props){\n//         super(props)\n//         this.state = {\n//             imgState:true,\n//             imgData:''\n//         }\n//     }\n//     _upImg = () => {\n//         let upimgs = document.getElementById(\"upimg\")\n//         upimgs.click();\n//     }\n//     upChange = (event) => {\n//         let _this = this//烦人的this\n//         let imgfile = event.currentTarget.files[0];///获得input的第一个图片\n//         console.log('我是图片源文件',imgfile)\n//         if (imgfile.size > 1024000) {\n//             alert('大于了1m，请重新上传', 3)\n//             let upimgs = document.getElementById(\"upimg\")\n//             upimgs.value=''\n//         }\n//         else {\n//             //使用readAsDataURL来进行回显图片\n//             let reader = new FileReader();//filereader.readasdataurl读取图像文件转换为流\n//             reader.readAsDataURL(imgfile);\n\n//             reader.onload = function (event) {//读取数据时会触发一个load事件\n//                 let imgs = this.result\n//                 console.log('我是回显的Base64图片文件',imgs)\n//                 _this.state.imgState = false\n//                 _this.state.imgData = imgs\n//                 _this.setState(_this.state)\n//             };\n//         }\n//     }\n//     render(){\n//         return(\n//             <div className='page-body'>\n//             <button onClick={this._upImg}>\n//                 {\n//                     this.state.imgState?'上传':'重新上传'\n//                 }\n//             </button>\n//             <div>\n//                 <img src={this.state.imgData} style={{ width: '200px', height: '200px' }} />\n//             </div>\n//             <input id='upimg' type='file' style={{ display: 'none' }} accept='image/png' onChange={this.upChange} />\n//         </div>\n//         )\n//     }\n// }\n\n// // export default WebStylec\n\n// import React from 'react';\n// import { Form, Input,Upload,Icon,Modal} from 'antd';\n// import { connect } from 'dva';\n// const FormItem = Form.Item;\n// const { TextArea } = Input;\n// function getBase64(file) {\n//   return new Promise((resolve, reject) => {\n//     const reader = new FileReader();\n//     reader.readAsDataURL(file);\n//     reader.onload = () => resolve(reader.result);\n//     reader.onerror = error => reject(error);\n//   });\n// }\n// class AddMa extends React.Component {\n//   state = {\n//     value: '',\n//     previewVisible: false,\n//     previewImage: '',\n//     fileList:[],\n//   };\n//   onChange = ({ target: { value } }) => {\n//     this.setState({ value });\n//   };\n// //场地图片\n//   handleCancel = () => this.setState({ previewVisible: false });\n//   handlePreview = async file => {\n//     if (!file.url && !file.preview) {\n//       file.preview = await getBase64(file.originFileObj);\n//     }\n//     this.setState({\n//       previewImage: file.url || file.preview,\n//       previewVisible: true,\n//     });\n//     console.log(file);\n//   };\n//   handleChange = ({ fileList }) => this.setState({ fileList:fileList });\n//   beforeUpload=(file)=>{\n//       this.setState(({\n//         fileList: [this.state.fileList, file],\n//       }));\n//     return false;\n//   }\n//   render() {\n//     const { previewVisible, previewImage, fileList,value} = this.state;\n//     const uploadButton = (\n//       <div>\n//         <Icon type=\"plus\" />\n//         <div className=\"ant-upload-text\">Upload</div>\n//       </div>\n//     );\n//     const { getFieldDecorator } = this.props.form;\n//     const formItemLayout = {\n//       labelCol: { span: 8 },\n//       wrapperCol: { span: 10 },\n//     };\n//     const props={fileList};\n//     return (\n//       <div>\n//         <Form>\n//           <FormItem{...formItemLayout} label=\"现场图片\">\n//             {getFieldDecorator('fileList',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <div >\n//                 <Upload name=\"file\" {...props}\n//                         listType=\"picture-card\"\n//                         onPreview={this.handlePreview}\n//                         onChange={this.handleChange}\n//                         fileList={fileList}\n//                         accept=\".jpg,.png,.gif,.jpeg\"\n//                         beforeUpload={this.beforeUpload}\n//                 >\n//                   {this.props.tAccessory >= 6 ? null : uploadButton}\n//                 </Upload>\n//                 <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n//                   <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n//                 </Modal>\n//               </div>\n//             )}</FormItem>\n            \n//     \t\t//这里是多个上传获取到的PhotoList    \n//           <FormItem{...formItemLayout} >\n//             {getFieldDecorator('file',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <input type=\"hidden\" name=\"img\" multiple=\"multiple\"  />\n//             )}</FormItem>\n//         </Form>\n//       </div>\n//     );\n//   }\n// }\n\n// function mapStateToProps(state) {\n//   const {csIntro,arPicture,tCsInfo,modelResult,tAccessory} = state.cusy;\n//   return {csIntro,arPicture,tCsInfo,modelResult,tAccessory};\n// }\n\n\n// export default connect(mapStateToProps)(Form.create()(AddMa));"]},"metadata":{},"sourceType":"module"}