{"ast":null,"code":"// import React from 'react';\n// import { Form, Input, Upload, Icon, Modal}  from 'antd';\n// import { connect } from 'dva';\n// const FormItem = Form.Item;\n// const { TextArea } = Input;\n// function getBase64(file) {\n//   return new Promise((resolve, reject) => {\n//     const reader = new FileReader();\n//     reader.readAsDataURL(file);\n//     reader.onload = () => resolve(reader.result);\n//     reader.onerror = error => reject(error);\n//   });\n// }\n// class AddMa extends React.Component {\n//   state = {\n//     value: '',\n//     previewVisible: false,\n//     previewImage: '',\n//     fileList:[],\n//   };\n//   onChange = ({ target: { value } }) => {\n//     this.setState({ value });\n//   };\n// //场地图片\n//   handleCancel = () => this.setState({ previewVisible: false });\n//   handlePreview = async file => {\n//     if (!file.url && !file.preview) {\n//       file.preview = await getBase64(file.originFileObj);\n//     }\n//     this.setState({\n//       previewImage: file.url || file.preview,\n//       previewVisible: true,\n//     });\n//     console.log(file);\n//   };\n//   handleChange = ({ fileList }) => this.setState({ fileList:fileList });\n//   beforeUpload=(file)=>{\n//       this.setState(({\n//         fileList: [this.state.fileList, file],\n//       }));\n//     return false;\n//   }\n//   render() {\n//     const { previewVisible, previewImage, fileList,value} = this.state;\n//     const uploadButton = (\n//       <div>\n//         <Icon type=\"plus\" />\n//         <div className=\"ant-upload-text\">Upload</div>\n//       </div>\n//     );\n//     const { getFieldDecorator } = this.props.form;\n//     const formItemLayout = {\n//       labelCol: { span: 8 },\n//       wrapperCol: { span: 10 },\n//     };\n//     const props={fileList};\n//     return (\n//       <div>\n//         <Form>\n//           <FormItem{...formItemLayout} label=\"现场图片\">\n//             {getFieldDecorator('fileList',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <div >\n//                 <Upload name=\"file\" {...props}\n//                         listType=\"picture-card\"\n//                         onPreview={this.handlePreview}\n//                         onChange={this.handleChange}\n//                         fileList={fileList}\n//                         accept=\".jpg,.png,.gif,.jpeg\"\n//                         beforeUpload={this.beforeUpload}\n//                 >\n//                   {this.props.tAccessory >= 6 ? null : uploadButton}\n//                 </Upload>\n//                 <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n//                   <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n//                 </Modal>\n//               </div>\n//             )}</FormItem>\n//     \t\t//这里是多个上传获取到的PhotoList    \n//           <FormItem{...formItemLayout} >\n//             {getFieldDecorator('file',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <input type=\"hidden\" name=\"img\" multiple=\"multiple\"  />\n//             )}</FormItem>\n//         </Form>\n//       </div>\n//     );\n//   }\n// }\n// function mapStateToProps(state) {\n//   const {csIntro,arPicture,tCsInfo,modelResult,tAccessory} = state.cusy;\n//   return {csIntro,arPicture,tCsInfo,modelResult,tAccessory};\n// }\n// export default connect(mapStateToProps)(Form.create()(AddMa));","map":{"version":3,"sources":["/home/lin/phase5/My-Place-Frontend/my-place/src/Component/test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAGA","sourcesContent":["// import React from 'react';\n// import { Form, Input, Upload, Icon, Modal}  from 'antd';\n// import { connect } from 'dva';\n// const FormItem = Form.Item;\n// const { TextArea } = Input;\n// function getBase64(file) {\n//   return new Promise((resolve, reject) => {\n//     const reader = new FileReader();\n//     reader.readAsDataURL(file);\n//     reader.onload = () => resolve(reader.result);\n//     reader.onerror = error => reject(error);\n//   });\n// }\n// class AddMa extends React.Component {\n//   state = {\n//     value: '',\n//     previewVisible: false,\n//     previewImage: '',\n//     fileList:[],\n//   };\n//   onChange = ({ target: { value } }) => {\n//     this.setState({ value });\n//   };\n// //场地图片\n//   handleCancel = () => this.setState({ previewVisible: false });\n//   handlePreview = async file => {\n//     if (!file.url && !file.preview) {\n//       file.preview = await getBase64(file.originFileObj);\n//     }\n//     this.setState({\n//       previewImage: file.url || file.preview,\n//       previewVisible: true,\n//     });\n//     console.log(file);\n//   };\n//   handleChange = ({ fileList }) => this.setState({ fileList:fileList });\n//   beforeUpload=(file)=>{\n//       this.setState(({\n//         fileList: [this.state.fileList, file],\n//       }));\n//     return false;\n//   }\n//   render() {\n//     const { previewVisible, previewImage, fileList,value} = this.state;\n//     const uploadButton = (\n//       <div>\n//         <Icon type=\"plus\" />\n//         <div className=\"ant-upload-text\">Upload</div>\n//       </div>\n//     );\n//     const { getFieldDecorator } = this.props.form;\n//     const formItemLayout = {\n//       labelCol: { span: 8 },\n//       wrapperCol: { span: 10 },\n//     };\n//     const props={fileList};\n//     return (\n//       <div>\n//         <Form>\n//           <FormItem{...formItemLayout} label=\"现场图片\">\n//             {getFieldDecorator('fileList',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <div >\n//                 <Upload name=\"file\" {...props}\n//                         listType=\"picture-card\"\n//                         onPreview={this.handlePreview}\n//                         onChange={this.handleChange}\n//                         fileList={fileList}\n//                         accept=\".jpg,.png,.gif,.jpeg\"\n//                         beforeUpload={this.beforeUpload}\n//                 >\n//                   {this.props.tAccessory >= 6 ? null : uploadButton}\n//                 </Upload>\n//                 <Modal visible={previewVisible} footer={null} onCancel={this.handleCancel}>\n//                   <img alt=\"example\" style={{ width: '100%' }} src={previewImage} />\n//                 </Modal>\n//               </div>\n//             )}</FormItem>\n            \n//     \t\t//这里是多个上传获取到的PhotoList    \n//           <FormItem{...formItemLayout} >\n//             {getFieldDecorator('file',{initialValue:this.props.tAccessory,valuePropName: 'file'})\n//             (\n//               <input type=\"hidden\" name=\"img\" multiple=\"multiple\"  />\n//             )}</FormItem>\n//         </Form>\n//       </div>\n//     );\n//   }\n// }\n\n// function mapStateToProps(state) {\n//   const {csIntro,arPicture,tCsInfo,modelResult,tAccessory} = state.cusy;\n//   return {csIntro,arPicture,tCsInfo,modelResult,tAccessory};\n// }\n\n\n// export default connect(mapStateToProps)(Form.create()(AddMa));\n"]},"metadata":{},"sourceType":"module"}