{"ast":null,"code":"// import { Card, Upload, Modal, Form, Button } from 'antd'\n// import React, { Component } from \"react\";\n// import { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n// export default class PicturesWall extends React.Component{\n//   constructor(props){\n//     super(props);\n//   }\n//   state = {\n//     previewVisible:false,\n//     previewImage:'',\n//     fileList:[],\n//     upFiles:[]\n//   };\n//   // handleCancel=()=>{\n//   //   this.setState({previewVisible:false});\n//   // }\n//   // handlePreview = async file =>{\n//   //   if(!file.url && !file.preview){\n//   //     file.preview = await getBase64(file.originFileObj);\n//   //   }\n//   //   this.setState({\n//   //     previewImage: file.url || file.preview,\n//   //     previewVisible: true\n//   //   });\n//   // }\n//   // handleChange = (info) => {\n//   //   this.setState({fileList: info.fileList});\n//   // }\n//   beforeUpload = (file) => {\n//     const {upFiles} = this.state;\n//     upFiles.push(file);\n//     this.setState({upFiles: upFiles});\n//   }\n//   addOk = () => {\n//     const {upFiles, id} = this.state;\n//     const formData = new FormData();\n//     upFiles.forEach((file) => {\n//       formData.append('file', file);\n//     });\n//     formData.append('id', id);\n//     this.props.dispatch({\n//       type: 'upload/upImage',\n//       payload: {formData: formData}\n//     })\n//   }\n//   render() {\n//     const {previewVisible, previewImage, fileList} = this.state;\n//     // const uploadButton = (\n//     //   <div>\n//     //     <Icon type=\"plus\" />\n//     //     <div className=\"ant-upload-text\">Upload</div>\n//     //   </div>\n//     // )\n//     return (\n//       <div>\n//         <Button type=\"primary\" onClick={this.addOk()}>确认</Button>\n//         <Upload\n//           accept=\".png,,jpg,.jpeg,.pdf\"\n//           listType=\"picture-card\"\n//           multiple={true}\n//           fileList={fileList}\n//           onChange={this.handleChange}\n//           onPreview={this.handlePreview}\n//           beforeUpload={this.beforeUpload}\n//         >\n//         <PlusOutlined />\n//         </Upload>\n//         <Modal visble={previewVisible} footer={null} onCancel={this.handleCancel()}>\n//           <img alt=\"example\" style={{width:'100%'}} src={previewImage}/>\n//         </Modal>\n//       </div>\n//     )\n//   }\n// }\n// // function getBase64(file){\n// //   return new Promise((resolve, reject) => {\n// //     const reader = new FileReader();\n// //     reader.readAsDataURL(file);\n// //     reader.onload = () => resolve(reader.result);\n// //     reader.onerror = error => reject(error);\n// //   });\n// // }","map":{"version":3,"sources":["/home/lin/phase5/My-Place-Frontend/my-place/src/Component/test.js"],"names":[],"mappings":"AAAA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import { Card, Upload, Modal, Form, Button } from 'antd'\n// import React, { Component } from \"react\";\n// import { LoadingOutlined, PlusOutlined } from '@ant-design/icons';\n\n// export default class PicturesWall extends React.Component{\n//   constructor(props){\n//     super(props);\n//   }\n//   state = {\n//     previewVisible:false,\n//     previewImage:'',\n//     fileList:[],\n//     upFiles:[]\n//   };\n  \n//   // handleCancel=()=>{\n//   //   this.setState({previewVisible:false});\n//   // }\n  \n//   // handlePreview = async file =>{\n//   //   if(!file.url && !file.preview){\n//   //     file.preview = await getBase64(file.originFileObj);\n//   //   }\n//   //   this.setState({\n//   //     previewImage: file.url || file.preview,\n//   //     previewVisible: true\n//   //   });\n//   // }\n  \n//   // handleChange = (info) => {\n//   //   this.setState({fileList: info.fileList});\n//   // }\n  \n//   beforeUpload = (file) => {\n//     const {upFiles} = this.state;\n//     upFiles.push(file);\n//     this.setState({upFiles: upFiles});\n//   }\n  \n//   addOk = () => {\n//     const {upFiles, id} = this.state;\n//     const formData = new FormData();\n//     upFiles.forEach((file) => {\n//       formData.append('file', file);\n//     });\n//     formData.append('id', id);\n//     this.props.dispatch({\n//       type: 'upload/upImage',\n//       payload: {formData: formData}\n//     })\n//   }\n  \n//   render() {\n//     const {previewVisible, previewImage, fileList} = this.state;\n//     // const uploadButton = (\n//     //   <div>\n//     //     <Icon type=\"plus\" />\n//     //     <div className=\"ant-upload-text\">Upload</div>\n//     //   </div>\n//     // )\n//     return (\n//       <div>\n//         <Button type=\"primary\" onClick={this.addOk()}>确认</Button>\n//         <Upload\n//           accept=\".png,,jpg,.jpeg,.pdf\"\n//           listType=\"picture-card\"\n//           multiple={true}\n//           fileList={fileList}\n//           onChange={this.handleChange}\n//           onPreview={this.handlePreview}\n//           beforeUpload={this.beforeUpload}\n//         >\n//         <PlusOutlined />\n//         </Upload>\n//         <Modal visble={previewVisible} footer={null} onCancel={this.handleCancel()}>\n//           <img alt=\"example\" style={{width:'100%'}} src={previewImage}/>\n//         </Modal>\n//       </div>\n//     )\n//   }\n// }\n\n// // function getBase64(file){\n// //   return new Promise((resolve, reject) => {\n// //     const reader = new FileReader();\n// //     reader.readAsDataURL(file);\n// //     reader.onload = () => resolve(reader.result);\n// //     reader.onerror = error => reject(error);\n// //   });\n// // }\n"]},"metadata":{},"sourceType":"module"}